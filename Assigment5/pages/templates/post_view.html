{% extends "base.html" %}
{% load static %}

{% block title %}{{ post.title }}{% endblock %}

{% block content %}
<div class="post-container">
    <div class="post-header">
        <h1>{{ post.title }}</h1>
        <p class="date">{{ post.created_at|date:"F d, Y" }}</p>
    </div>

    <div class="post-body">
        <p>{{ post.body }}</p>
    </div>

    <div class="post-actions">
        <a href="{% url 'post_update' post.pk %}" class="btn edit-btn">Edit</a>
        <a href="{% url 'post_delete' post.pk %}" class="btn delete-btn">Delete</a>
    </div>

    <hr>

    <h2>ðŸ’¬ Comments</h2>
    {% for comment in post.comment_set.all %}
        <div class="comment">
            <strong>{{ comment.name }}</strong>
            <p>{{ comment.body }}</p>
            <small>{{ comment.created_at|date:"M d, Y h:i A" }}</small>
        </div>
    {% empty %}
        <p>No comments yet.</p>
    {% endfor %}

    <hr>

    <h3>âž• Add a Comment</h3>
    <form method="post">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit" class="btn submit-btn">Submit</button>
    </form>
</div>
{% endblock %}
